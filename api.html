<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rawiwam Potikul</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <script src="sensor.js"></script>
    <section class="welcome">
        <div class="welcome-text">
            <h1>Welcome to my resume</h1>
        </div>
    </section>
    <nav>
        <ul class="menu">
            <li><a href="index.html#profile">Profile</a></li>
            <li><a href="Education.html#education">Education</a></li>
            <li><a href="Internship.html#internship">Internship Experience</a></li>
            <li><a href="grades.html#grades">Subject scores</a></li>
            <li><a href="contact.html#contact">Contact Information</a></li>
            <li><a href="api.html#api"onclick="scrollToSection('api')">API</a></li>
        </ul>
    </nav>
    <section class="api" id="api">
        <h1>API</h1>
    </section
    class="under-box-api">
            <div class="body-api">
                <div class="api-table">
                    <table border ="2" width="100">
                        <tr>
                            <th>Sensor</th>
                            <th>Value</th>
                            <th>Unit</th>
                        </tr>
    
                        <tr>
                            <th>Timestamp</th>
                            <th id="time" >
                            <th>Second</th>
                        </tr>
                        <tr>
                            <th>Temperature</th>
                            <th id="temp">
                            <th>¬∞ C</th>
                        </tr>
                        <tr>
                            <th>Luxsensor</th>
                            <th id="lux">
                            <th>Lux</th>
                    </tr>
                    <tr>
                            <th>Humidity</th>
                            <th id="hum">
                            <th>%RH</th>
                    </tr>
                        <tr>
                            <th>Motion</th>
                            <th id="mot">
                            <th>-</th>
                        </tr>
                    </table>
                </div>

                <div class="api-post">
                    <form onsubmit="event.preventDefault(); submitData();">
                        <div class="api-post-box-name">
                            <p class="text-titlebox">Name : </p>
                            <input class="box-input-text" type="text" id="studentName" required placeholder="Enter Student Name">
                        </div>
                        <div class="api-post-box-id">
                            <p class="text-titlebox">ID : </p>
                            <input class="box-input-text" type="text" id="studentId" required placeholder="Enter Student ID">
                        </div>
                        <div class="api-post-box-sent">
                            <input class="box-sent-submit" type="submit"><span class="emoji3">üëà</span>
                        </div>
                    </form>
                </div>
                <script>
                    async function submitData() {
                        // ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏ü‡∏≠‡∏£‡πå‡∏°
                        const studentId = document.getElementById("studentId").value;
                        const studentName = document.getElementById("studentName").value;
                
                        // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö JSON
                        const data = {
                            id: studentId,
                            name: studentName
                        };
                
                        // ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏õ‡∏¢‡∏±‡∏á API ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ fetch
                        try {
                            const response = await fetch("https://206.189.146.138/api/students", {
                                method: "POST",
                                headers: {
                                    "Content-Type": "application/json"
                                },
                                body: JSON.stringify(data)
                            });
                
                            if (response.ok) {
                                alert("Sendsuccess!");
                            } else {
                                alert("Send fail.");
                            }
                        } catch (error) {
                            console.error("Error:", error);
                            alert("Send fail.");
                        }
                    }
                    
                  </script>
            </div>      
    </section>

    <script>
        window.onload = function() {
            const hash = window.location.hash;
            if (hash) {
                const section = document.querySelector(hash);
                if (section) {
                    section.scrollIntoView({ behavior: 'smooth' });
                }
            }
        }
    </script>

</body>

</html>

</html>